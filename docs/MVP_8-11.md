# MVP Roadmap (VI) — CLI-first, 8–11 giờ/tuần

> Mục tiêu của tài liệu này: điều chỉnh lộ trình MVP theo nhịp làm việc **8–11 giờ/tuần**, ưu tiên **CLI-first** (thiết kế và hoàn thiện công cụ dòng lệnh trước — *command-line interface, giao diện dòng lệnh*), đồng thời bổ sung **kế hoạch 14 ngày** cho **Phase 0** và **checklist 10 bước MVP-0** (mỗi bước tạo **1 file** + **1 lệnh chạy được**).

---

## 0) Nguyên tắc thực thi (8–11 giờ/tuần)

### 0.1. Nhịp làm việc khuyến nghị
- **4 buổi/tuần × 2 giờ** = 8 giờ (tối thiểu)
- **+ 1 buổi/buffer 3 giờ** = 11 giờ (khi cần)

### 0.2. CLI-first plan là gì?
- **CLI-first**: mọi năng lực cốt lõi được đóng gói vào **lệnh chạy được** ngay từ đầu (ví dụ `./bin/mvp0 doctor`) trước khi nghĩ tới UI.
- Lợi ích:
  - Tự động hoá (*automation, tự động hoá*) nhanh.
  - Đo lường được tiến độ bằng “lệnh chạy OK”.
  - Giảm “độ trễ tích hợp” (*integration latency, trễ tích hợp*).

### 0.3. Định nghĩa “Done”
- Mỗi giai đoạn kết thúc khi:
  1) Có ít nhất **1 lệnh CLI** chạy ổn định.
  2) Có **tài liệu dùng được** (README/usage).
  3) Có **log/artefact** (output file) chứng minh.

---

## 1) Lộ trình theo Phase (điều chỉnh 8–11 giờ/tuần, CLI-first)

> Gợi ý: mỗi Phase nên có “đầu ra CLI” rõ ràng. Nếu chưa có đầu ra CLI thì Phase chưa kết thúc.

### Phase 0 — Bootstrap dự án & MVP-0 (2 tuần, ~16–22 giờ)
**Mục tiêu:** dựng khung CLI tối thiểu, chuẩn hoá repo-local tooling, tạo pipeline “lệnh chạy được”.

**Đầu ra chính (deliverables):**
- `bin/mvp0` (shell script — *kịch bản shell*) làm entrypoint CLI.
- `docs/MVP0.md` mô tả usage.
- `scripts/` chứa các lệnh con (subcommand — *lệnh con*).

**CLI cốt lõi:**
- `./bin/mvp0 help`
- `./bin/mvp0 doctor` (kiểm tra môi trường — *environment check*)
- `./bin/mvp0 plan` (in kế hoạch — *print plan*)

### Phase 1 — Data model tối thiểu + pipeline chạy (3–4 tuần, ~24–44 giờ)
**Mục tiêu:** đóng gói “dữ liệu đầu vào → xử lý → đầu ra” qua CLI.

**Đầu ra CLI:**
- `./bin/mvp0 run --input <file> --output <file>`

**Khuyến nghị:**
- Định nghĩa `schema` (lược đồ — *schema*) ngay trong file tài liệu hoặc JSON/YAML.

### Phase 2 — Tích hợp / kiểm thử / CI tối thiểu (2–3 tuần, ~16–33 giờ)
**Mục tiêu:** có test cơ bản và workflow tự động.

**Đầu ra CLI:**
- `./bin/mvp0 test` (chạy tập kiểm thử — *test suite*)

### Phase 3 — Harden & Release (1–2 tuần, ~8–22 giờ)
**Mục tiêu:** chốt tài liệu, versioning (phiên bản hoá — *versioning*), phát hành nội bộ.

**Đầu ra CLI:**
- `./bin/mvp0 version`
- `./bin/mvp0 release-notes`

---

## 2) Phase 0 — Kế hoạch 14 ngày (Daily plan)

> Mỗi ngày ~60–90 phút (tuỳ lịch). Nếu chỉ có 4 ngày/tuần, gộp 2 ngày thành 1 buổi.

### Ngày 1 — Xác định phạm vi MVP-0
- Viết mục tiêu “MVP-0 là gì” (định nghĩa tối thiểu).
- Quyết định danh sách lệnh con: `help/doctor/plan`.

### Ngày 2 — Tạo entrypoint CLI
- Tạo `bin/mvp0` (executable — *tệp thực thi*).
- Chuẩn hoá `set -euo pipefail` (an toàn shell — *shell safety*).

### Ngày 3 — Subcommand `help`
- Tạo cấu trúc dispatch (bộ điều phối lệnh — *command dispatcher*).
- In usage có ví dụ.

### Ngày 4 — Subcommand `doctor` (phần 1)
- Kiểm tra các lệnh hệ thống cần có (ví dụ `bash`, `git`, `python3`).
- In kết quả dạng bảng đơn giản.

### Ngày 5 — Subcommand `doctor` (phần 2)
- Kiểm tra repo state (trạng thái repo — *repo status*): clean/dirty.
- Thêm mã lỗi (exit code — *mã thoát*) rõ ràng.

### Ngày 6 — Subcommand `plan`
- In Phase roadmap tóm tắt.
- Cho phép `./bin/mvp0 plan --phase 0`.

### Ngày 7 — Tài liệu MVP0
- Viết `docs/MVP0.md` với:
  - Cách chạy.
  - Ý nghĩa từng lệnh.
  - Ví dụ output.

### Ngày 8 — Chuẩn hoá logging
- Thêm `lib/log.sh` (logging — *ghi nhật ký*) để in màu/level.
- Áp dụng cho `doctor/plan`.

### Ngày 9 — Chuẩn hoá config tối thiểu
- Thêm `config/mvp0.env.example` (environment variables — *biến môi trường*).
- `mvp0 doctor` kiểm tra biến cần thiết.

### Ngày 10 — Thêm lệnh `init` (tuỳ chọn)
- `./bin/mvp0 init` tạo file `.mvp0/state.json` (state — *trạng thái*).

### Ngày 11 — “Happy path” demo
- Tạo `examples/` chứa input/output mẫu.
- Viết kịch bản demo: `./bin/mvp0 plan` → `./bin/mvp0 doctor`.

### Ngày 12 — Refactor nhỏ
- Tách logic sang `scripts/*.sh`.
- Giảm trùng lặp, giữ CLI ổn định.

### Ngày 13 — Đảm bảo tính chạy được trên máy mới
- Viết hướng dẫn “fresh clone” trong `docs/MVP0.md`.
- Chạy thử trong môi trường sạch (nếu có).

### Ngày 14 — Chốt Phase 0
- Soát lại checklist MVP-0 (bên dưới).
- Đóng gói: “người khác clone repo và chạy 3 lệnh” là thấy kết quả.

---

## 3) MVP-0 Checklist (10 bước) — mỗi bước: 1 file + 1 lệnh chạy được

> Quy ước: mỗi bước tạo **chính xác 1 file mới**. Lệnh có thể là `bash ...`, `chmod ...`, hoặc chạy CLI. Nếu file đã tồn tại, hãy đổi tên file mới (ví dụ `..._mvp0.sh`) để giữ đúng tiêu chí “mỗi bước tạo 1 file”.

### 1) Entrypoint CLI
- **Tạo file:** `bin/mvp0`
- **Lệnh chạy:**
  ```bash
  chmod +x bin/mvp0